<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="researcharr contributors" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Deployment and Resource Recommendations - researcharr</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../assets/css/researcharr.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Deployment and Resource Recommendations";
        var mkdocs_page_input_path = "Deployment-and-Resources.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> researcharr
        </a>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">researcharr documentation — Day One</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../API/">ResearchArr API (v1)</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../CI-and-Development/">CI and Development</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Changelog/">Changelog</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Contributing/">Contributing to researcharr</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../DEV/">DEV</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="#">Deployment and Resource Recommendations</a>
    <ul class="current">
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Environment-Variables/">Environment variables</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../FAQ/">FAQ</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Getting-Started/">Getting Started</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Health-and-Metrics/">Health and Metrics Endpoints</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Integrations/">Integrations</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Logs/">Logs and Live Streaming</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Packaging-and-Distribution/">Packaging and Distribution</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Plugins/">Plugins and instance configuration</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Recent-Changes/">Recent Changes</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Roadmap/">Roadmap</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Status-and-Warnings/">System status warnings and how to fix them</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Versioning/">Versioning &amp; Releases</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">researcharr</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">Deployment and Resource Recommendations</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="deployment-and-resource-recommendations">Deployment and Resource Recommendations</h1>
<p>This page gives practical examples for running researcharr with resource
limits and job runtime safeguards. It shows Docker, Docker Compose, and
Kubernetes examples and explains the environment variables used by the
application to bound scheduled job runs.</p>
<p>Environment variables (runtime safety)</p>
<ul>
<li>JOB_TIMEOUT: integer seconds. If set and &gt; 0, scheduled jobs launched by
  the in-process scheduler will be killed after this many seconds. Default: 0
  (no timeout).</li>
<li>JOB_RLIMIT_AS_MB: integer megabytes. If set, the child process will have
  its virtual memory (address space) limited to this many MB. This uses
  Unix RLIMIT_AS and is only applied on platforms that support the
  <code>resource</code> module.</li>
<li>JOB_RLIMIT_CPU_SECONDS: integer seconds. If set, the child process will
  be limited to this many CPU seconds (RLIMIT_CPU).</li>
<li>RUN_JOB_CONCURRENCY: integer. When set to <code>1</code> (the default), the
  scheduler will skip launching a new run if a previous run is still
  executing. Values &gt;1 allow that many concurrent jobs.</li>
</ul>
<p>Docker (recommended quick run)</p>
<p>Example run with a 300s job timeout and modest container limits:</p>
<pre><code class="language-bash">docker run -d \
  --name=researcharr \
  -v /path/to/config:/config \
  -p 2929:2929 \
  --memory=512m \
  --cpus=1.0 \
  -e JOB_TIMEOUT=300 \
  -e JOB_RLIMIT_AS_MB=400 \
  -e JOB_RLIMIT_CPU_SECONDS=240 \
  ghcr.io/wikid82/researcharr:latest
</code></pre>
<p>Notes:
- <code>--memory</code> and <code>--cpus</code> are Docker runtime limits enforced by the
  container runtime. Use them to prevent a misbehaving job from exhausting
  host resources.
- <code>JOB_RLIMIT_AS_MB</code> and <code>JOB_RLIMIT_CPU_SECONDS</code> provide <em>additional</em>
  protection inside the container on Unix-like systems.</p>
<p>Docker Compose example</p>
<pre><code class="language-yaml">version: '3.8'
services:
  researcharr:
    image: ghcr.io/wikid82/researcharr:latest
    container_name: researcharr
    ports:
      - &quot;2929:2929&quot;
    volumes:
      - /path/to/config:/config
    environment:
      JOB_TIMEOUT: &quot;300&quot;
      JOB_RLIMIT_AS_MB: &quot;400&quot;
      JOB_RLIMIT_CPU_SECONDS: &quot;240&quot;
    deploy:
      resources:
        limits:
          cpus: '1.00'
          memory: 512M
</code></pre>
<p>Kubernetes (Deployment snippet)</p>
<pre><code class="language-yaml">apiVersion: apps/v1
kind: Deployment
metadata:
  name: researcharr
spec:
  replicas: 1
  template:
    spec:
      containers:
        - name: researcharr
          image: ghcr.io/wikid82/researcharr:latest
          resources:
            requests:
              memory: &quot;256Mi&quot;
              cpu: &quot;250m&quot;
            limits:
              memory: &quot;512Mi&quot;
              cpu: &quot;1&quot;
          env:
            - name: JOB_TIMEOUT
              value: &quot;300&quot;
            - name: JOB_RLIMIT_AS_MB
              value: &quot;400&quot;
            - name: JOB_RLIMIT_CPU_SECONDS
              value: &quot;240&quot;
</code></pre>
<p>Operational guidance</p>
<ul>
<li>Start with conservative <code>--memory</code> and <code>--cpus</code> settings and monitor the
  job runs and memory usage. Increase limits only if necessary.</li>
<li>Use <code>JOB_TIMEOUT</code> to ensure long-running or hung jobs are killed and do
  not consume resources indefinitely.</li>
<li><code>RUN_JOB_CONCURRENCY=1</code> is the safest default for single-instance
  deployments. Increase only if you explicitly want concurrent runs.</li>
</ul>
<p>Image variants</p>
<p>The project publishes two primary runtime variants built from the same multistage <code>Dockerfile</code>:</p>
<ul>
<li><code>ghcr.io/wikid82/researcharr:prod</code> — production image based on Debian-slim (recommended for operators).</li>
<li><code>ghcr.io/wikid82/researcharr:dev</code> — developer/debug image (same base as <code>prod</code> but with extra debugging tools installed).</li>
</ul>
<p>Production deploy example (prod):</p>
<pre><code class="language-bash">docker run -d \
  --name researcharr \
  -v /path/to/config:/config \
  -p 2929:2929 \
  --restart unless-stopped \
  ghcr.io/wikid82/researcharr:prod
</code></pre>
<p>Developer example (run debug image with shell):</p>
<pre><code class="language-bash">docker run --rm -it \
  -v &quot;$(pwd)&quot;:/app -w /app \
  -v /path/to/config:/config \
  -p 2929:2929 \
  ghcr.io/wikid82/researcharr:dev /bin/bash
</code></pre>
<p>See <code>docs/Environment-Variables.md</code> for the full list of environment
variables and their defaults.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../DEV/" class="btn btn-neutral float-left" title="DEV"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../Environment-Variables/" class="btn btn-neutral float-right" title="Environment variables">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="None" class="fa fa-code-fork" style="color: #fcfcfc"> Wikid82/researcharr</a>
        </span>
    
    
      <span><a href="../DEV/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../Environment-Variables/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
