<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="researcharr contributors" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>System status warnings and how to fix them - researcharr</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../assets/css/researcharr.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "System status warnings and how to fix them";
        var mkdocs_page_input_path = "Status-and-Warnings.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> researcharr
        </a>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">researcharr documentation — Day One</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../API/">ResearchArr API (v1)</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Backup-and-Recovery/">Backup and Recovery Procedures</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../CI-and-Development/">CI and Development</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../CLI-Usage/">CLI Usage Guide</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../CONFIGURATION/">Configuration Reference</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Changelog/">Changelog</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Contributing/">Contributing to researcharr</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Coverage-CI-Local-Differences/">Coverage Differences: CI vs Local</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Coverage-Gutters-Example-Comparison/">Coverage Gutters Example Structure</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Coverage-Gutters-Quick-Reference/">Coverage Gutters - Quick Reference Card</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Coverage-Gutters-Quick-Start/">Coverage Gutters - Visual Quick Start Guide</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Coverage-Gutters-Setup/">Coverage Gutters Setup</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../DEV/">DEV</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Deployment-and-Resources/">Deployment and Resource Recommendations</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Environment-Variables/">Environment variables</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../FAQ/">FAQ</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Getting-Started/">Getting Started</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Health-and-Metrics/">Health and Metrics Endpoints</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Integrations/">Integrations</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../JOB_QUEUE_QUICKSTART/">Job Queue System - Quick Start Guide</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Logs/">Logs and Live Streaming</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Packaging-and-Distribution/">Packaging and Distribution</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Plugins/">Plugins and instance configuration</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Recent-Changes/">Recent Changes</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Renovate-Configuration/">Renovate Bot Configuration Guide</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Roadmap/">Roadmap</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../SERVICES_ARCHITECTURE/">Services Architecture</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="./">System status warnings and how to fix them</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#storage-mounts">Storage mounts</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#database-connectivity">Database connectivity</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#configuration-and-api-key">Configuration and API key</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#admin-credentials-first-run-plaintext">Admin credentials (first-run plaintext)</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#permissions-on-mounted-directories">Permissions on mounted directories</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#plugin-error-rate">Plugin error-rate</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#log-file-growth">Log file growth</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#update-available-opt-in">Update available (opt-in)</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#external-service-rate-limits">External service rate-limits</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#high-resource-usage">High resource usage</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#container-restarts">Container restarts</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#missing-example-files">Missing example files</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#apistatus-aggregator">/api/status aggregator</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#backups-and-retention">Backups and retention</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#tasks-persistence">Tasks persistence</a>
    </li>
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Versioning/">Versioning & Releases</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../WHEELHOUSE/">Wheelhouse (built wheels) workflow</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../tooling-experiments/">Experimental Tooling: Sourcery & Vulture</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Architecture</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../architecture/JOB_QUEUE_DESIGN/">Job Queue and Task Management - Architecture Design</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">researcharr</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a> &raquo;</li>
      <li class="breadcrumb-item active">System status warnings and how to fix them</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="system-status-warnings-and-how-to-fix-them">System status warnings and how to fix them</h1>
<p>This page documents the various warnings the web UI can surface on the System → Status page and provides concrete remediation steps and examples.</p>
<p>Each status warning includes a short description, how it's detected, common causes, and step-by-step instructions to resolve the issue. Use the links from the Status UI to jump to the relevant section.</p>
<p>Table of contents
- Storage mounts (/config, /config/plugins)
- Database connectivity
- Configuration and API key
- Admin credentials (first-run plaintext)
- Permissions on mounted directories
- Plugin error-rate
- Log file growth
- Update available (opt-in)
- External service rate-limits
- High resource usage
- Container restarts
- Missing example files
- /api/status aggregator</p>
<ul>
<li>Backups and retention</li>
<li>Tasks persistence</li>
</ul>
<h2 id="storage-mounts">Storage mounts</h2>
<p>Anchor: <code>#storage-mounts</code></p>
<p>What it means
: The application cannot access one or more configured filesystem paths (typically <code>/config</code> and <code>/config/plugins</code>). This may be reported as the path not existing, not being a directory, or lacking read/write permissions.</p>
<p>How we detect it
: The UI calls the backend <code>/api/status</code> (and <code>/api/storage</code>) which checks <code>os.path.exists</code>, <code>os.path.isdir</code>, and <code>os.access</code> for read/write.</p>
<p>Common causes
- The host directory was not bind-mounted into the container (missing <code>-v /host/path:/config</code>).
- The container user (UID/GID) lacks permissions to read/write the mounted folder.
- <code>CONFIG_DIR</code> env var points to a non-existent path.</p>
<p>How to fix
1. If you run via <code>docker run</code>, mount a host path to <code>/config</code>:</p>
<pre><code class="language-bash">docker run -d \
  -v /path/on/host:/config \
  -e PUID=1000 -e PGID=1000 \
  -p 2929:2929 ghcr.io/Wikid82/researcharr:latest
</code></pre>
<ol>
<li>If you use <code>docker-compose</code>:</li>
</ol>
<pre><code class="language-yaml">services:
  researcharr:
    image: ghcr.io/Wikid82/researcharr:latest
    volumes:
      - ./config:/config
</code></pre>
<ol>
<li>Fix permissions on the host (adjust UID/GID to your container user):</li>
</ol>
<pre><code class="language-bash">sudo chown -R 1000:1000 /path/on/host
sudo chmod -R u+rwX /path/on/host
</code></pre>
<ol>
<li>If your deployment uses a non-standard config location, set <code>CONFIG_DIR</code> accordingly.</li>
</ol>
<p>More details: See the Status UI storage help modal for copyable examples.</p>
<h2 id="database-connectivity">Database connectivity</h2>
<p>Anchor: <code>#database-connectivity</code></p>
<p>What it means
: The web UI cannot open or query the SQLite database file used by the service. This may prevent scheduled jobs and plugin persistence from working.</p>
<p>How we detect it
: The aggregator attempts a lightweight <code>SELECT 1</code> against the configured DB file path (env <code>RESEARCHARR_DB</code> or the repository default). Errors are surfaced in <code>/api/status</code>.</p>
<p>Common causes
- DB file missing or moved
- File permission problems
- Database file corrupt</p>
<p>How to fix
1. Check the configured DB path and ensure it exists and is readable by the container process.
2. Inspect the DB file: <code>sqlite3 /config/researcharr.db "PRAGMA integrity_check;"</code> — if it returns anything other than <code>ok</code>, consider restoring from backup.
3. If the file is corrupt, restore your latest backup and restart the service.
4. If you cannot restore, consider exporting critical data with <code>sqlite3</code> and recreating the DB.</p>
<h2 id="configuration-and-api-key">Configuration and API key</h2>
<p>Anchor: <code>#configuration-and-api-key</code></p>
<p>What it means
: The app detected missing or incomplete configuration values such as a missing <code>api_key_hash</code> or other critical settings.</p>
<p>How we detect it
: The aggregator inspects <code>app.config_data</code> and the persisted <code>webui_user.yml</code> for missing keys.</p>
<p>Common causes
- First-run state where an API key was not generated or persisted
- Migration edge-cases where keys were not carried forward</p>
<p>How to fix
1. Open Settings → General in the web UI and regenerate the API key if needed.
2. Persist the key securely — the web UI stores only a hash (<code>api_key_hash</code>).</p>
<h2 id="admin-credentials-first-run-plaintext">Admin credentials (first-run plaintext)</h2>
<p>Anchor: <code>#admin-credentials</code></p>
<p>What it means
: On first-run the app generates a random admin password and keeps the plaintext in-memory to allow initial login. The status page warns you to rotate it once you have logged in.</p>
<p>How we detect it
: We check if the in-memory <code>app.config_data.user</code> contains a plaintext <code>password</code> and no <code>password_hash</code>.</p>
<p>How to fix
1. Log in using the generated credentials, then set a permanent password via Settings → User. This will persist a hashed password.
2. If you exposed the plaintext via logs or console, rotate the password immediately.</p>
<h2 id="permissions-on-mounted-directories">Permissions on mounted directories</h2>
<p>Anchor: <code>#permissions</code></p>
<p>What it means
: Even when a host path is mounted, the container user may not have the required read/write permissions.</p>
<p>How to fix
: See the Storage section above; <code>chown</code>/<code>chmod</code> examples are provided. Prefer setting PUID/PGID environment variables to match host ownership.</p>
<h2 id="plugin-error-rate">Plugin error-rate</h2>
<p>Anchor: <code>#plugin-error-rate</code></p>
<p>What it means
: A plugin's validation/sync endpoints are failing frequently. The status page computes an error rate: when a plugin has repeated failures the UI will show a warning.</p>
<p>How we detect it
: The UI calls plugin <code>validate</code> endpoints to test connectivity. The backend also tracks per-plugin attempts/errors in memory and reports an error rate via <code>/api/status</code>.</p>
<p>Common causes
- Incorrect endpoint URL or API key for the upstream service
- Network problems or firewall blocking
- The remote service is overloaded or returning 4xx/5xx responses</p>
<p>How to fix
1. Open Settings → Plugins and inspect the plugin instance configuration.
2. Use the Retry button on the Status page to re-run validation.
3. Check upstream service logs and credentials; if a remote API is rate limiting you, consider reducing polling frequency.</p>
<h2 id="log-file-growth">Log file growth</h2>
<p>Anchor: <code>#log-growth</code></p>
<p>What it means
: The application log file has grown beyond the threshold (default 5 MB recommended threshold), which may indicate noisy errors or misconfiguration.</p>
<p>How we detect it
: <code>/api/status</code> reports the size of <code>app.log</code> and the status page warns when it exceeds the threshold.</p>
<p>How to fix
1. Rotate or truncate the log file: <code>truncate -s 0 /config/app.log</code> (do this only when safe to do so).
2. Investigate the root cause of new log entries (use Settings → Logs and the <code>/logs</code> page).
3. Consider log rotation via the host or a sidecar.</p>
<p>More: See <code>docs/Logs.md</code> for details on the Logs UI, live log-level control, and the SSE streaming endpoint (<code>/api/logs/stream</code>).</p>
<h2 id="update-available-opt-in">Update available (opt-in)</h2>
<p>Anchor: <code>#update-available</code></p>
<p>What it means
: An update checker can optionally compare the running version to the latest release. This check is opt-in to avoid unexpected network calls.</p>
<p>How to enable
: Configure the update check in your deployment or enable via environment flags (not enabled by default by design).</p>
<h2 id="external-service-rate-limits">External service rate-limits</h2>
<p>Anchor: <code>#external-rate-limits</code></p>
<p>What it means
: External services (indexers, Radarr/Sonarr, etc.) may return 429 or other rate-limiting responses. The backend can surface repeated 429s as a warning.</p>
<p>How to fix
: Reduce polling frequency, add exponential backoff in upstream services, or request higher rate limits from the provider.</p>
<h2 id="high-resource-usage">High resource usage</h2>
<p>Anchor: <code>#high-resource-usage</code></p>
<p>What it means
: The host/container is experiencing high memory or CPU usage which can impact responsiveness.</p>
<p>How we detect it
: The aggregator reads <code>/proc</code> (when available) to compute memory usage and load averages. When memory usage exceeds a conservative threshold, a warning appears.</p>
<p>How to fix
: Reduce concurrent workloads, increase container resource limits, or move to a larger host.</p>
<h2 id="container-restarts">Container restarts</h2>
<p>Anchor: <code>#container-restarts</code></p>
<p>What it means
: Frequent container restarts can indicate a crash loop or failing healthcheck.</p>
<p>How to detect
: Detecting restarts reliably requires orchestration metadata (Docker, Kubernetes). The app can use heuristics (uptime vs. persisted timestamp) but this is best observed in container runtime logs.</p>
<p>How to fix
: Inspect container logs (<code>docker logs &lt;container&gt;</code>), adjust healthcheck, and fix the underlying exception.</p>
<h2 id="missing-example-files">Missing example files</h2>
<p>Anchor: <code>#missing-example-files</code></p>
<p>What it means
: The repository's example config files (e.g. <code>config.example.yml</code>) are missing from the deployment. Examples are harmless but useful references for manual configuration.</p>
<p>How to fix
: Re-populate example files from the repository or view them on the project's docs.</p>
<h2 id="apistatus-aggregator">/api/status aggregator</h2>
<p>Anchor: <code>#api-status-aggregator</code></p>
<p>What it returns
: The endpoint <code>/api/status</code> returns a JSON object with keys for <code>storage</code>, <code>db</code>, <code>config</code>, <code>logs</code>, <code>examples</code>, <code>resources</code>, <code>metrics</code>, and <code>plugins</code>.</p>
<p>Usage
: The Status UI uses <code>/api/status</code> to render non-plugin warnings in a single call. The endpoint is authenticated (requires a valid session).</p>
<p>Notes
- The checks are intentionally lightweight and best-effort. Network-heavy checks are opt-in to avoid flaky UI behaviour.
- Plugin metrics are stored in-memory and reset on service restart unless you enable persistence via a custom implementation.</p>
<h2 id="backups-and-retention">Backups and retention</h2>
<p>Anchor: <code>#backups-and-retention</code></p>
<p>What it means
: The application exposes a Backups page and <code>/api/backups</code> endpoints for creating, importing, downloading, restoring and deleting backup ZIP archives representing application state.</p>
<p>How we detect issues
: The Status UI and backups page surface failures to create or import archives, and the backend logs any I/O or integrity errors. Scheduled pruning failures are surfaced in the application logs and the Status UI may show related warnings when backups cannot be rotated or created.</p>
<p>Common causes
- Missing or unwritable <code>CONFIG_DIR</code> (default <code>/config</code>) or <code>CONFIG_DIR/backups</code> directory.
- Insufficient disk space when creating large backups.
- Corrupt or malformed imported ZIP files.</p>
<p>How to fix
1. Check that the backups folder is present and writable by the container process (see Storage mounts section). Example:</p>
<pre><code class="language-bash">ls -la /config/backups
sudo chown -R 1000:1000 /path/to/config
</code></pre>
<ol>
<li>
<p>If imports fail with integrity errors, inspect the archive contents locally and re-create a valid ZIP from a known-good copy.</p>
</li>
<li>
<p>Configure retention and scheduling in <code>CONFIG_DIR/backups.yml</code>. Key settings:</p>
</li>
<li><code>retain_count</code>: keep most recent N backups</li>
<li><code>retain_days</code>: keep backups younger than N days</li>
<li><code>pre_restore</code>: when enabled, create an automatic snapshot before a restore</li>
<li><code>pre_restore_keep_days</code>: retention window for pre-restore snapshots</li>
<li><code>auto_backup_enabled</code>: enable scheduled automatic backups</li>
<li><code>auto_backup_cron</code> / <code>prune_cron</code>: cron expressions for auto-backup and scheduled pruning</li>
</ol>
<p>Notes
- Pre-restore snapshots are prefixed with <code>pre-</code> and, by default, are retained for a short window (see <code>pre_restore_keep_days</code>) so you can recover from failed restores.</p>
<h2 id="tasks-persistence">Tasks persistence</h2>
<p>Anchor: <code>#tasks-persistence</code></p>
<p>What it means
: The scheduler records task run history and settings so you can inspect past runs and failures from the Tasks page in the UI. History is persisted to <code>CONFIG_DIR/task_history.jsonl</code> and settings to <code>CONFIG_DIR/tasks.yml</code>.</p>
<p>How we detect issues
: The Status UI surfaces if task history cannot be written (I/O errors) or if scheduled jobs fail repeatedly. Check application logs for task-related exceptions.</p>
<p>How to fix
1. Ensure <code>CONFIG_DIR</code> is writable and has sufficient disk space.
2. If the history file is corrupt, you can rotate or remove it; historic runs will be lost but the scheduler will continue creating new history entries.
3. For repeated scheduled job failures, inspect the task details in the Tasks page and consult logs for stack traces.</p>
<hr />
<p>If a remediation step isn't working for your environment, open an issue with the following information:
- deployment method (docker run / docker-compose / k8s)
- output of <code>docker logs</code> (or systemd logs)
- relevant config files (sanitized)</p>
<p>Thank you for helping make the project more robust — file an issue if you need step-by-step help.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../SERVICES_ARCHITECTURE/" class="btn btn-neutral float-left" title="Services Architecture"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../Versioning/" class="btn btn-neutral float-right" title="Versioning & Releases">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../SERVICES_ARCHITECTURE/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../Versioning/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
